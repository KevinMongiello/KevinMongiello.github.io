<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Costco Cookies scale</title>
  <style>
    main {
      width: 25vw;
      margin: 2em auto;
      font-size: 20px;
    }
    select {
      margin-bottom: 2em;
    }
    li {
      padding-bottom: 0.25em;
    }
    #directions {
      list-style-type: decimal;
    }
    #directions li {
      padding-bottom: 1em;
    }
  </style>
</head>
<body>
  
  <main>
    <label>Servings:
    </label>
    <select>
      <option>1</option>
      <option>2</option>
      <option>3</option>
      <option>4</option>
    </select>
  
    <ul id="ingredients">
      <li><span id="sugar">1/2</span> cup coconut sugar</li>
      <li><span id="brownsugar">1/4</span> cup brown sugar</li>
      <li><span id="syrup">2 1/2</span> tbsp maple syrup</li>
      <li><span id="butter">1</span> stick butter</li>
      <li><span id="eggs">1</span> egg</li>
      <li><span id="vanilla">1/4</span> tsp vanilla</li>
      <li><span id="flour">1 3/4</span> cup flour</li>
      <li><span id="salt">1/2</span> tsp salt</li>
      <li><span id="soda">1/4</span> tsp baking soda</li>
      <li><span id="chips">3/4</span> cup chocolate chips</li>
    </ul>
    <div>
      Directions:
    </div>
    <ul id="directions">
      <li>Mix coconut sugar, brown sugar, maple syrup & melted butter together into a liquid/granulated mix.</li>
      <li>Beat eggs into mixture. Add vanilla.</li>
      <li>Mix in salt & baking powder into wet mixture.</li>
      <li>Mix in flour.</li>
      <li>Mix in chocolate chips.</li>
      <li>Bake for 11-12 mins @ 350&#176;F. </li>
    </ul>
  </main>

  <script>
    Math.gcd= function(a, b){
      if(b) return Math.gcd(b, a%b);
      return Math.abs(a);
    }
    Math.fraction= function(n, prec, up){
        var s= String(n), 
        p= s.indexOf('.');
        if(p== -1) return s;

        var i= Math.floor(n) || '', 
        dec= s.substring(p), 
        m= prec || Math.pow(10, dec.length-1), 
        num= up=== 1? Math.ceil(dec*m): Math.round(dec*m), 
        den= m, 
        g= Math.gcd(num, den);

        if(den/g==1) return String(i+(num/g));

        if(i) i= i+' and  ';
        return i+ String(num/g)+'/'+String(den/g);
    }
  </script>


  <script>
    var frac = (num) => {
      return Math.fraction(num);
    }
    document.querySelector('select').addEventListener('change', (e) => {
      const val = Number(e.target.value);
      const sugar = document.querySelector('#sugar');
      sugar.innerHTML = frac(val * 1/2);
      const brownsugar = document.querySelector('#brownsugar');
      brownsugar.innerHTML = frac(val * 1/4);
      const syrup = document.querySelector('#syrup');
      syrup.innerHTML = frac(val * 2.5);
      const butter = document.querySelector('#butter');
      butter.innerHTML = frac(val * 1);
      const eggs = document.querySelector('#eggs');
      eggs.innerHTML = frac(val * 1);
      const vanilla = document.querySelector('#vanilla');
      vanilla.innerHTML = frac(val * 1/4);
      const flour = document.querySelector('#flour');
      flour.innerHTML = frac(val * 7/4);
      const salt = document.querySelector('#salt');
      salt.innerHTML = frac(val * 1/2);
      const soda = document.querySelector('#soda');
      soda.innerHTML = frac(val * 1/4);
      const chips = document.querySelector('#chips');
      chips.innerHTML = frac(val * 3/4);
    });
  </script>
</body>
</html>